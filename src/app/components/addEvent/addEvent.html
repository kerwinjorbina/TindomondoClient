<div ng-include="'app/components/navbar/navbar.html'"></div>
<div ng-controller="addEventController as controller">
<form name="userForm"  ng-submit="controller.createEvent()" >
<div class="holder">
 <div class="title">
            Make an event
  </div>

<div class="container">
    <md-whiteframe class="eventPanel topEventPanel" flex-xs="90" flex-sm="60" flex-md="45" flex-gt-md="30" layout="column">
    
      <div layout="column">

        <div layout="row">

          <md-datepicker ng-model="user.submissionDate" md-placeholder="Enter date">
          </md-datepicker>
          <md-input-container class="md-block">
            <label>Time (HH)</label>
            <input type="time" name="hours" ng-model="controller.hour"
                   required  minlength="2" md-maxlength="2">
            <div ng-messages="userForm.hours.$error" role="alert" multiple>
              <div ng-message="required" class="my-message">You must supply the start time hours.</div>
              <div ng-message="pattern" class="my-message">That doesn't look like a valid hour format.</div>
              <div ng-message="md-maxlength" class="my-message">
                Too long.
              </div>
              <div ng-message="minlength" class="my-message">
                Too short.
              </div>
            </div>
            <!--ng-pattern="/^([01]?[0-9]|2[0-3])$/"-->
          </md-input-container>
          <md-input-container class="md-block" flex-gt-xs>
            <label>Time (mm)</label>
            <input  name="minutes" ng-model="controller.minute"
                    required ng-pattern="/^([0-5][0-9])$/" minlength="2" md-maxlength="2">
            <div ng-messages="userForm.minutes.$error" role="alert" multiple>
              <div ng-message="required" class="my-message">You must supply the start time minutes.</div>
              <div ng-message="pattern" class="my-message">That doesn't look like a valid minute format.</div>
              <div ng-message="md-maxlength" class="my-message">
                Too long.
              </div>
              <div ng-message="minlength" class="my-message">
                Too short.
              </div>
            </div>
          </md-input-container>
        </div>


        <div layout-gt-sm="row">

            <md-input-container class="md-block" flex-gt-sm>
              <label>Sport</label>
              <md-select ng-model="controller.sport">
                <md-option ng-repeat="sport in controller.sports" value="sport">
                  {{sport.name}}
                </md-option>
              </md-select>
            </md-input-container>
        </div>

        <div layout-gt-sm="row">

          <md-input-container class="md-block" flex-gt-sm>
            <label>Min Participants</label>
            <input name="registration_min" ng-model="controller.registration_min"
                   required ng-pattern="/^[0-9]{5}$/" md-maxlength="5">
            <div ng-messages="userForm.registration_min.$error" role="alert" multiple>
              <div ng-message="required" class="my-message">You must supply the minimum number of participants.</div>
              <div ng-message="pattern" class="my-message">That doesn't look like a valid number.</div>
              <div ng-message="md-maxlength" class="my-message">
                Too long.
              </div>
            </div>
          </md-input-container>

          <md-input-container class="md-block" flex-gt-sm>
            <label>Max Participants</label>
            <input name="registration_limit" ng-model="controller.registration_limit"
                   required ng-pattern="/^[0-9]{5}$/" md-maxlength="5">
            <div ng-messages="userForm.registration_limit.$error" role="alert" multiple>
              <div ng-message="required" class="my-message">You must supply the minimum number of participants.</div>
              <div ng-message="pattern" class="my-message">That doesn't look like a valid number.</div>
              <div ng-message="md-maxlength" class="my-message">
                Too long.
              </div>
            </div>
          </md-input-container>

        </div>
      </div>
      </md-whiteframe>
      <md-whiteframe class="eventPanel topEventPanel" flex-xs="90" flex-sm="60" flex-md="45" flex-gt-md="30" layout="column" layout="column">
        <div layout="row">
          <div flex="40" class="fieldName">
              Address
          </div>

          <div flex="60" class="fieldValue">
              {{controller.eventAddress}}

          </div>
        </div>
        <div layout="row">
          <div id="map" flex="100">
            <ui-gmap-google-map center='controller.map.center' zoom='controller.map.zoom' events='controller.map.events'>
              <ui-gmap-marker ng-repeat="m in controller.markers" coords="m.coords" options="m.options" events="m.events" icon="m.icon" idkey="m.id"></ui-gmap-marker>
              <ui-gmap-polyline ng-repeat="p in controller.polylines" path="p.path" stroke="p.stroke" visible='p.visible' geodesic='p.geodesic' fit="true" editable="p.editable" draggable="p.draggable" icons='p.icons'></ui-gmap-polyline>
            </ui-gmap-google-map>
          </div>
        </div>
      </md-whiteframe>
      <div layout="row joinButtonBox" layout-align="center center">
        <button id="joinButton" type="submit" class = "btn btn-default joinButton">CREATE</button>
      </div>
  
</div>
</div>
</form>

</div>
